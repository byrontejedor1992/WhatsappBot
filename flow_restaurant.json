{
  "name": "Restaurant WhatsApp Bot",
  "version": "1.2",
  "start_state": "welcome",
  "states": {
    "welcome": {
      "message": "ğŸ½ï¸ Â¡Hola! Soy el asistente de *Restaurante Demo*.\nElige una opciÃ³n:\n1) Reservar mesa\n2) Ver menÃº\n3) Promociones\n4) UbicaciÃ³n y horario",
      "expect": "choice_1_4",
      "transitions": {
        "1": "reserve_people",
        "2": "menu",
        "3": "promos",
        "4": "location_hours"
      }
    },
    "menu": {
      "message": "ğŸ“œ *MenÃº hoy*:\n- Lomo saltado $9.50\n- Ceviche mixto $8.00\n- Pasta al pesto $7.00\n\nEscribe *reservar* para reservar o *volver* para volver al inicio.",
      "expect": "keyword",
      "transitions": {
        "reservar": "reserve_people",
        "volver": "welcome",
        "*": "fallback_menu"
      }
    },
    "fallback_menu": {
      "message": "No te entendÃ­. Escribe *reservar* o *volver*.",
      "expect": "keyword",
      "transitions": {
        "reservar": "reserve_people",
        "volver": "welcome",
        "*": "menu"
      }
    },
    "promos": {
      "message": "ğŸ *PromociÃ³n de la semana*: 2x1 en bebidas con cualquier plato fuerte de Lâ€“J, 18:00â€“20:00.\nEscribe *reservar* para reservar o *volver* para volver al inicio.",
      "expect": "keyword",
      "transitions": {
        "reservar": "reserve_people",
        "volver": "welcome",
        "*": "promos"
      }
    },
    "location_hours": {
      "message": "ğŸ“ *Estamos en:* Av. Principal 123.\nğŸ•’ *Horario:* Lunâ€“Dom 12:00â€“22:00.\nEscribe *reservar* para reservar o *volver* para volver al inicio.",
      "expect": "keyword",
      "transitions": {
        "reservar": "reserve_people",
        "volver": "welcome",
        "*": "location_hours"
      }
    },
    "reserve_people": {
      "message": "Genial, vamos a reservar. Â¿Para cuÃ¡ntas personas? (1â€“10)",
      "expect": "number_1_10",
      "transitions": {
        "valid": "reserve_date",
        "invalid": "reserve_people"
      }
    },
    "reserve_date": {
      "message": "Â¿Para quÃ© fecha? (AAAA-MM-DD)",
      "expect": "date_iso",
      "transitions": {
        "valid": "reserve_time",
        "invalid": "reserve_date"
      }
    },
    "reserve_time": {
      "message": "Â¿A quÃ© hora? (13:00, 15:00, 19:00, 21:00)",
      "expect": "choice_time",
      "transitions": {
        "13:00": "reserve_name",
        "15:00": "reserve_name",
        "19:00": "reserve_name",
        "21:00": "reserve_name",
        "invalid": "reserve_time"
      }
    },
    "reserve_name": {
      "message": "Perfecto. Â¿A nombre de quiÃ©n registramos la reserva?",
      "expect": "text",
      "transitions": {
        "valid": "confirm",
        "invalid": "reserve_name"
      }
    },
    "confirm": {
      "message": "âœ… *Reserva lista*:\nNombre: {name}\nPersonas: {people}\nFecha: {date}\nHora: {time}\n\nÂ¿Confirmas? (sÃ­/no)",
      "expect": "yes_no",
      "transitions": {
        "sÃ­": "confirmed",
        "si": "confirmed",
        "no": "cancelled"
      }
    },
    "confirmed": {
      "message": "ğŸ‰ Â¡Listo {name}! Tu mesa quedÃ³ reservada. Te enviaremos un recordatorio el mismo dÃ­a.\nEscribe *menÃº* para ver opciones o *fin* para terminar.",
      "expect": "keyword",
      "transitions": {
        "menÃº": "menu",
        "menu": "menu",
        "fin": "end",
        "*": "end"
      }
    },
    "cancelled": {
      "message": "Reserva cancelada. Â¿Quieres empezar de nuevo? Escribe *reservar* o *volver*.",
      "expect": "keyword",
      "transitions": {
        "reservar": "reserve_people",
        "volver": "welcome",
        "*": "welcome"
      }
    },
    "end": {
      "message": "Gracias por escribirnos ğŸ‘‹",
      "expect": "end",
      "transitions": {}
    }
  }
}